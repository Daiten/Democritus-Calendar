import tkinter as tk
from tkinter import ttk
from datetime import date

def get_element_data(target_date):
    """Calculates the 92-day calendar values."""
    elements = [
        "Hydrogen", "Helium", "Lithium", "Beryllium", "Boron", "Carbon", "Nitrogen", "Oxygen", "Fluorine", "Neon",
        "Sodium", "Magnesium", "Aluminium", "Silicon", "Phosphorus", "Sulfur", "Chlorine", "Argon", "Potassium", "Calcium",
        "Scandium", "Titanium", "Vanadium", "Chromium", "Manganese", "Iron", "Cobalt", "Nickel", "Copper", "Zinc",
        "Gallium", "Germanium", "Arsenic", "Selenium", "Bromine", "Krypton", "Rubidium", "Strontium", "Yttrium", "Zirconium",
        "Niobium", "Molybdenum", "Technetium", "Ruthenium", "Rhodium", "Palladium", "Silver", "Cadmium", "Indium", "Tin",
        "Antimony", "Tellurium", "Iodine", "Xenon", "Cesium", "Barium", "Lanthanum", "Cerium", "Praseodymium", "Neodymium",
        "Promethium", "Samarium", "Europium", "Gadolinium", "Terbium", "Dysprosium", "Holmium", "Erbium", "Thulium", "Ytterbium",
        "Lutetium", "Hafnium", "Tantalum", "Tungsten", "Rhenium", "Osmium", "Iridium", "Platinum", "Gold", "Mercury",
        "Thallium", "Lead", "Bismuth", "Polonium", "Astatine", "Radon", "Francium", "Radium", "Actinium", "Thorium",
        "Protactinium", "Uranium"
    ]
    
    # Logic from your original script
    days_since_0001 = (target_date - date(1, 1, 1)).days
    days_from_epoch_to_0001 = 460 * 365.2425 
    total_days = days_since_0001 + days_from_epoch_to_0001
    
    day_idx = int(total_days % 92)
    year_92 = int(total_days // 92) + 1
    year_flavor_idx = int(year_92 % 92)
    
    return {
        "day": day_idx + 1,
        "element": elements[day_idx],
        "year": year_92,
        "year_element": elements[year_flavor_idx]
    }

def update_display():
    """Triggered when the button is clicked to refresh date."""
    data = get_element_data(date.today())
    day_label.config(text=f"Day {data['day']}")
    element_label.config(text=data['element'].upper())
    year_info.config(text=f"Year {data['year']} â€¢ Era of {data['year_element']}")

# --- UI Setup ---
root = tk.Tk()
root.title("Democritus Calendar")
root.geometry("400x350")
root.configure(bg="#1e1e1e") # Dark background

# Styling
style = ttk.Style()
style.theme_use('clam')

# Main Container
frame = tk.Frame(root, bg="#1e1e1e", padx=20, pady=20)
frame.place(relx=0.5, rely=0.5, anchor="center")

# Labels
header = tk.Label(frame, text=date.today().strftime("%B %d, %Y"), font=("Segoe UI", 10), fg="#888888", bg="#1e1e1e")
header.pack()

day_label = tk.Label(frame, text="", font=("Segoe UI", 18), fg="#00adb5", bg="#1e1e1e")
day_label.pack(pady=(10, 0))
element_label = tk.Label(frame, text="", font=("Segoe UI", 48, "bold"), fg="#eeeeee", bg="#1e1e1e")
element_label.pack()

divider = tk.Frame(frame, height=2, width=100, bg="#393e46")
divider.pack(pady=15)

year_info = tk.Label(frame, text="", font=("Segoe UI", 12, "italic"), fg="#888888", bg="#1e1e1e")
year_info.pack()

# Initial update
update_display()

root.mainloop()
